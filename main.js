!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=function(e){var t=e,r=Array.apply(null,{length:e}),n=function(e){return null==e};return{positions:[],hit:function(e){e<r.length&&(r[e]="X")},isSunk:function(){return!r.some(n)},isAttackedButNotSunk:function(){return r.some((function(e){return"X"==e}))},positionsHit:r,get length(){return t}}};function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i,c,u,l,d,s,f,p,m,h,v,y,g,C,S,b,x,L,E,O=function(){var e=function(){for(var e={},t=0;t<10;t++){e[String.fromCharCode(65+t)]=a(Array(10)).map((function(e){return" "}))}return e}(),t=[],r=function(e,r){return t.some((function(t){return t.positions.some((function(t){return t.x===e&&t.y===r}))}))},n=function(e,r){for(var n=0;n<t.length;n++)for(var a=0;a<t[n].positions.length;a++)t[n].positions[a].x===e&&t[n].positions[a].y===r&&t[n].hit(a)};return{allCoordinates:e,placeShip:function(e,r,n){var a=e.positionsHit.length;if("horizontal"===n&&a+r.x.charCodeAt(0)<=75)for(var o=0;o<a;o++){var i=String.fromCharCode(r.x.charCodeAt(0)+o);e.positions.push({x:i,y:r.y})}else if("vertical"===n&&a+r.y<=11)for(var c=0;c<a;c++)e.positions.push({x:r.x,y:r.y+c});t.push(e)},checkHit:r,ships:t,receiveAttack:function(t,a){r(t,a)?(e[t][a-1]="X",n(t,a)):e[t][a-1]="â€¢"},allShipsSunk:function(){return 0!==t.length&&t.every((function(e){return e.isSunk()}))}}},A=(s={attack:function(e,t){e.receiveAttack(t.x,t.y)}},i={attack:function(e,t){e.receiveAttack(t.x,t.y)}},c=function(e,t){return e[t].some((function(e){return" "===e}))},u=function(e){var t=[];for(var r in e)c(e,r)&&t.push(r);return t},l=function(e,t){for(var r=[],n=e[t],a=0;a<n.length;a++)" "===n[a]&&r.push(a+1);return r},d=function(e,t){var r=l(e,t);return{x:t,y:r[Math.floor(Math.random()*r.length)]}},f=Object.assign({},i,{getXCoordinates:u,getIndexesOfY:l,selectRandomCoordinatesStillAvailable:d,getRandomCoordinateStillAvailable:function(e){var t=u(e),r=t[Math.floor(Math.random()*t.length)];return d(e,r)},test:function(){return 100}}),p=O(),m=O(),h={carrier:n(5),battleship:n(4),cruiser:n(3),submarine:n(3),destroyer:n(2)},v={carrier:n(5),battleship:n(4),cruiser:n(3),submarine:n(3),destroyer:n(2)},{get computerGameboard(){return p},get humanGameboard(){return m},get humanFleet(){return h},get computerFleet(){return v},humanPlayer:s,computerPlayer:f,startNewGame:function(){p=O(),m=O(),h={carrier:n(5),battleship:n(4),cruiser:n(3),submarine:n(3),destroyer:n(2)},v={carrier:n(5),battleship:n(4),cruiser:n(3),submarine:n(3),destroyer:n(2)}},gameOver:function(){return!!p.allShipsSunk()||!!m.allShipsSunk()},gameWinner:function(){return p.allShipsSunk()?"human":m.allShipsSunk()?"computer":"no winner"}}),k=(y={},{on:function(e,t){y[e]=y[e]||[],y[e].push(t)},off:function(e,t){if(y[e])for(var r=0;r<y[e].length;r++)if(y[e][r]===t){y[e].splice(r,1);break}},emit:function(e,t){y[e]&&y[e].forEach((function(e){e(t)}))}}),T=(b=function(e,t,r,n){for(var a=S(t,r,n),o=0;o<t;o++)C(e,a[o]).classList.add("occupied")},x=function(e,t,r,n){for(var a=S(t,r,n),o=0;o<t;o++)if(C(e,a[o]).classList.contains("occupied"))return!0},{getStartingCoordinates:g=function(e){return{x:e.parentElement.firstChild.textContent,y:Array.prototype.slice.call(e.parentElement.childNodes).findIndex((function(t){return t===e}))}},getDataFromShip:function(e){return{orientation:e.classList.contains("verticalShip")?"vertical":"horizontal",shipLength:e.childElementCount,board:e.parentElement.parentElement.parentElement,startingCoordinates:g(e.parentElement)}},findTile:C=function(e,t){for(var r=0,n=Array.from(e.childNodes);r<n.length;r++){var a=n[r];if(a.firstChild.innerText===t.x)for(var o=Array.from(a.childNodes),i=0;i<o.length;i++)if(t.y===i)return o[i]}},determineShipCoordinates:S=function(e,t,r){var n=[];if("horizontal"===t)for(var a=0;a<e;a++)n.push({x:String.fromCharCode(r.x.charCodeAt(0)+a),y:r.y});else if("vertical"===t)for(var o=0;o<e;o++)n.push({x:r.x,y:r.y+o});return n},removeOccupySquare:function(e,t,r,n){for(var a=S(t,r,n),o=0;o<t;o++)C(e,a[o]).classList.remove("occupied")},occupySquare:b,shipOnOccupiedSquaresOnChangeOrientation:function(e,t,r,n){for(var a=S(t,r,n),o=1;o<t;o++)if(C(e,a[o]).classList.contains("occupied"))return!0},shipPlacedOnOccupiedSquares:x,shipOverrideBoardOnSwitchToVertical:function(e){var t=e.target.parentElement.childElementCount;if(e.target.parentElement.classList.contains("verticalShip"))return!0;var r=e.target.parentElement.parentElement;return Array.prototype.slice.call(e.target.parentElement.parentElement.parentElement.childNodes).findIndex((function(e){return e===r}))+t>11},shipOverrideBoardOnSwitchToHorizontal:function(e){var t=e.target.parentElement.childElementCount;return!e.target.parentElement.classList.contains("verticalShip")||e.target.parentElement.parentElement.parentElement.firstChild.textContent.charCodeAt(0)+t>75},shipOverflowHorizontally:L=function(e,t){return e.charCodeAt(0)+t>75},shipOverflowVertically:E=function(e,t){return e+t>11},dropShip:function(e,t,r){var n=r.childElementCount,a=r.classList.contains("verticalShip")?"vertical":"horizontal";if("-copy"!==t.slice(-5)){var o=e.target,i=o.parentElement.parentElement,c=g(o);if(""===c.x||0===c.y||e.target.classList.contains("square")||L(c.x,n)||x(i,n,a,c));else{var u=g(o);if(!L(u.x,n)){b(i,n,a,u),k.emit("removeListenerFromOriginalShip",r);var l=document.getElementById(t).cloneNode(!0);l.id+="-copy",l.classList.add("unselectedShipCopy"),e.target.appendChild(l),r.classList.add("shipPlaced"),k.emit("addDragToShipCopy",l),k.emit("addClickToChangeOrientation",l)}}}},dragEnd:function(e){var t=e.target,r=t.classList.contains("verticalShip")?"vertical":"horizontal",n=t.childElementCount,a=t.parentElement.parentElement.parentElement,o=g(t.parentElement);if(t.classList.remove("selectedShipCopy"),t.classList.add("unselectedShipCopy"),x(a,n,r,o)){var i=e.dataTransfer.getData("coordinate"),c=JSON.parse(i);C(a,c).appendChild(t),b(a,n,r,c)}else b(a,n,r,o)},moveShipCopy:function(e,t,r){var n=r.childElementCount;if(r.classList.contains("verticalShip")){if("-copy"===t.slice(-5)&&e.target.classList.contains("tile")){var a=e.target,o=g(a);E(o.y,n)||e.target.appendChild(r)}}else if("-copy"===t.slice(-5)&&e.target.classList.contains("tile")){var i=e.target,c=g(i);L(c.x,n)||e.target.appendChild(r)}}});function w(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G,I,q,j=function(e){var t,r=document.querySelector("#root"),n=document.querySelector(".btnContainer"),a=function(){var e=document.createElement("div");return e.classList.add("column"),e},o=function(e){var t=document.createElement("div");for(var r in t.classList.add("board"),function(e){var t=a(),r=document.createElement("div");r.classList.add("headerTile"),t.appendChild(r);for(var n=0;n<10;n++){var o=document.createElement("div");o.classList.add("headerTile"),o.textContent=n+1,t.appendChild(o)}e.appendChild(t)}(t),e){var n=a(),o=document.createElement("div");o.classList.add("headerTile"),o.textContent=r,n.appendChild(o);var i,c=w(e[r]);try{for(c.s();!(i=c.n()).done;){var u=i.value,l=document.createElement("div");l.classList.add("tile"),l.textContent=u,n.appendChild(l),t.appendChild(n)}}catch(e){c.e(e)}finally{c.f()}}return t},i=function(e,t){t.appendChild(e)},c=function(e){void 0===e.tile&&(t=document.querySelector(".humanBoard"),e.tile=T.findTile(t,e.coordinates)),e.tile.textContent=e.board.allCoordinates[e.coordinates.x][e.coordinates.y-1]},u=function(e){var t=document.createElement("div");t.classList.add("victoryMessage"),t.textContent=e,document.querySelector(".boardContainer").appendChild(t)};return k.on("updateTile",c),k.on("displayVictoryMessage",u),k.on("toggleIndicatePlayerTurn",(function(e){e.classList.toggle("interactableBoard"),e.classList.toggle("nonInteractableBoard")})),k.on("displayShipSunk",(function(e){var t=e.ship,r=e.board;if(t.isSunk()){var n,a=w(t.positions);try{for(a.s();!(n=a.n()).done;){var o=n.value;T.findTile(r,o).classList.add("isSunk")}}catch(e){a.e(e)}finally{a.f()}}})),{createBoard:o,renderBoard:i,renderGameboards:function(e){var t=o(e.computerGameboard.allCoordinates),a=o(e.humanGameboard.allCoordinates);t.classList.add("computerBoard","interactableBoard"),a.classList.add("humanBoard","nonInteractableBoard");var c=document.createElement("div");c.classList.add("boardContainer"),r.insertBefore(c,n),i(t,c),i(a,c),k.emit("addListenerToClickComputerBoard",t)},renderUpdatedTile:c,displayVictoryMessage:u}}(),F=(I=function(e){var t=T.getDataFromShip(e);T.removeOccupySquare(t.board,t.shipLength,t.orientation,t.startingCoordinates),e.classList.toggle("verticalShip"),t=T.getDataFromShip(e),T.occupySquare(t.board,t.shipLength,t.orientation,t.startingCoordinates)},q=function(e){var t=e.target.parentElement,r=T.getDataFromShip(t);r.orientation="vertical"===r.orientation?"horizontal":"vertical",(T.shipOverrideBoardOnSwitchToVertical(e)||T.shipOnOccupiedSquaresOnChangeOrientation(r.board,r.shipLength,r.orientation,r.startingCoordinates))&&(T.shipOverrideBoardOnSwitchToHorizontal(e)||T.shipOnOccupiedSquaresOnChangeOrientation(r.board,r.shipLength,r.orientation,r.startingCoordinates))||I(t)},{dragStart:G=function(e){if(e.dataTransfer.setData("text",e.target.id),e.effectAllowed="copyMove","-copy"===e.target.id.slice(-5)){var t=T.getStartingCoordinates(e.target.parentElement),r=JSON.stringify(t);e.dataTransfer.setData("coordinate",r);var n=T.getDataFromShip(e.target);T.removeOccupySquare(n.board,n.shipLength,n.orientation,n.startingCoordinates),e.target.classList.remove("unselectedShipCopy"),e.target.classList.add("selectedShipCopy")}},dragOver:function(e){e.preventDefault();var t=e.dataTransfer.getData("text");if(""!==t&&"-copy"===t.slice(-5)){var r=document.getElementById(t);T.moveShipCopy(e,t,r)}},drop:function(e){e.preventDefault();var t=e.dataTransfer.getData("text");if(""!==t){var r=document.getElementById(t);T.dropShip(e,t,r)}},dragend:function(e){T.dragEnd(e)},changeShipOrientation:function(e){e.addEventListener("click",q)},removeChangeShipOrientationListener:function(e){e.removeEventListener("click",q)},removeDragOnShipListener:function(e){e.removeEventListener("dragstart",G)},addDragToShipCopy:function(e){e.addEventListener("dragstart",G)}});function M(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P,N,z,H=(P=function(e,t){return Math.floor(Math.random()*(t-(e-1)))+e},N=function(e,t){var r=function(e,t){if("horizontal"===t){var r=P(65,75-e.length);return{x:String.fromCharCode(r),y:P(1,10)}}var n=P(65,74);return{x:String.fromCharCode(n),y:P(1,11-e.length)}}(e,t);return T.determineShipCoordinates(e.length,t,r)},z=function(e,t){var r,n=M(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(e.checkHit(a.x,a.y))return!0}}catch(e){n.e(e)}finally{n.f()}return!1},{placeShipOnBoardIfCoordinatesAvailable:function(e,t){var r,n,a=!0;do{n=0===P(0,1)?"horizontal":"vertical",r=N(t,n),z(e,r)||(a=!1)}while(a);e.placeShip(t,r[0],n)}});function J(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}V=A,_=document.querySelector("#root"),$=document.querySelector(".btnContainer"),R=function(e){var t=document.querySelector(".".concat(e,"Btn"));return t.parentNode.removeChild(t),t},W=function e(t){var r=document.querySelectorAll(".board")[0];k.emit("removeListenerToClickComputerBoard",r);var n=document.querySelector(".boardContainer");n.parentNode.removeChild(n),X("play").addEventListener("click",K),R("reset").removeEventListener("click",e)},Y=function e(t){var r,n=document.querySelectorAll('[id$="-copy"]');if(5===(n=Array.from(n)).length){var a,o=J(n);try{for(o.s();!(a=o.n()).done;){var i=a.value;F.removeChangeShipOrientationListener(i)}}catch(e){o.e(e)}finally{o.f()}var c,u=J(n);try{for(u.s();!(c=u.n()).done;){var l=c.value;F.removeDragOnShipListener(l)}}catch(e){u.e(e)}finally{u.f()}var d=document.querySelector(".board");d.removeEventListener("dragover",F.dragOver),d.removeEventListener("drop",F.drop),d.removeEventListener("dragend",F.dragend),R("start").removeEventListener("click",e),X("reset").addEventListener("click",W);var s,f=J(n);try{for(f.s();!(s=f.n()).done;){var p=s.value,m=(p.parentNode,T.getDataFromShip(p));V.humanGameboard.placeShip(V.humanFleet[p.id.slice(0,-5)],m.startingCoordinates,m.orientation)}}catch(e){f.e(e)}finally{f.f()}!function(){for(var e in V.computerFleet)H.placeShipOnBoardIfCoordinatesAvailable(V.computerGameboard,V.computerFleet[e])}(),(r=document.querySelector(".setupContainer")).parentNode.removeChild(r),j.renderGameboards(V)}},K=function e(){R("play").removeEventListener("click",e);var t=X("start");!function(){var e=document.createElement("div");e.classList.add("setupContainer"),_.insertBefore(e,$)}();var r=document.querySelector(".setupContainer");!function(){var e=document.querySelector(".setupContainer"),t=document.createElement("div");t.classList.add("fleet");var r=document.createElement("div");r.textContent="Fleet",r.setAttribute("style","text-align: center; font-size: 1.5rem;");var n=document.createElement("ul");n.classList.add("listOfFleet"),t.appendChild(r),t.appendChild(n),e.appendChild(t)}(),function(e){for(var t in V.humanFleet){var r=document.createElement("li");r.classList.add("shipItem");var n=document.createElement("div");n.classList.add("ship"),n.setAttribute("id",t),n.setAttribute("draggable","true");for(var a=0;a<A.humanFleet[t].positionsHit.length;a++){var o=document.createElement("div");o.classList.add("square"),n.appendChild(o)}r.appendChild(n),r.innerHTML+=t.replace(/^\w/,(function(e){return e.toUpperCase()})),e.appendChild(r)}}(document.querySelector(".listOfFleet"));var n=document.querySelectorAll(".ship");V.startNewGame(),k.emit("resetIntelligentChoiceData");var a=j.createBoard(V.humanGameboard.allCoordinates);j.renderBoard(a,r);for(var o=0;o<n.length;o++)n[o].addEventListener("dragstart",F.dragStart);a.addEventListener("dragover",F.dragOver),a.addEventListener("drop",F.drop),a.addEventListener("dragend",F.dragend),t.addEventListener("click",Y)},(X=function(e){var t=document.createElement("button");return t.classList.add(e+"Btn"),t.textContent=e.replace(/^\w/,(function(e){return e.toUpperCase()})),$.appendChild(t),t})("play").addEventListener("click",K),k.on("addDragToShipCopy",F.addDragToShipCopy),k.on("removeListenerFromOriginalShip",F.removeDragOnShipListener),k.on("addClickToChangeOrientation",F.changeShipOrientation),Q=function(e){var t=e.target,r=T.getStartingCoordinates(t);""!==r.x&&0!==r.y&&" "===t.textContent&&k.emit("gameTurn",{x:r.x,y:r.y,tile:e.target})},k.on("addListenerToClickComputerBoard",(function(e){e.addEventListener("click",Q)})),k.on("removeListenerToClickComputerBoard",(function(e){e.removeEventListener("click",Q)}));var V,_,$,X,R,W,Y,K,Q,Z,ee,te,re,ne,ae,oe,ie,ce,ue,le,de,se,fe=(Z=!1,ee=void 0,te=[],re=function(e,t){var r="left"===t?-1:1;return{x:String.fromCharCode(e.x.charCodeAt(0)+r),y:e.y}},ne=function(e,t){var r="up"===t?-1:1,n=e.y+r;return{x:e.x,y:n}},ae=function(e,t){return" "==t.allCoordinates[e.x][e.y-1]},oe=function(e){return"A"===e.x&&(1===e.y||10===e.y)||"J"===e.x&&(1===e.y||10===e.y)},ie=function(e){return(1===e.y||10===e.y)&&"A"!=e.x&&"J"!=e.x||e.y>1&&e.y<10&&("A"===e.x||"J"===e.x)},ce=function(e){return!oe(e)&&!ie(e)},ue=function(e,t){!function(e){var t,r=1===e.y?"down":"up";"A"===e.x?t="right":"J"===e.x&&(t="left"),te.push(re(e,t),ne(e,r))}(e),te=te.filter((function(e,r,n){return ae(e,t)}))},le=function(e,t){!function(e){var t;if("A"!=e.x&&"J"!=e.x){var r=1===e.y?"down":"up";te.push(re(e,"left"),re(e,"right"),ne(e,r))}else"A"!==e.x&&"J"!==e.x||(t="A"===e.x?"right":"left",e.y>1&&e.y<10&&te.push(re(e,t),ne(e,"up"),ne(e,"down")))}(e),te=te.filter((function(e,r,n){return ae(e,t)}))},de=function(e,t){!function(e){te.push(re(e,"left"),re(e,"right"),ne(e,"up"),ne(e,"down"))}(e),te=te.filter((function(e,r,n){return ae(e,t)}))},se=function(e){return ee.y===e.y?"horizontal":ee.x===e.x?"vertical":void 0},k.on("resetIntelligentChoiceData",(function(){ee=void 0,te=[]})),{get previousGuessCorrect(){return Z},set previousGuessCorrect(e){Z=e},get originalCorrectGuess(){return ee},set originalCorrectGuess(e){ee=e},get smartGuesses(){return te},hasNotHit:function(){return void 0===ee&&0===te.length},isCornerCoordinate:oe,isBoundaryCoordinate:ie,isMiddleCoordinate:ce,isCoordinateAvailable:ae,resetSmartGuesses:function(){te=[]},getAdjacentCoordinates:function(e,t){oe(e)?ue(e,t):ie(e)?le(e,t):ce(e)&&de(e,t)},getAdjacentCoordinatesForCornerOnInitialGuess:ue,getAdjacentCoordinatesForBoundaryOnInitialGuess:le,getAdjacentCoordinatesForMiddleOnInitialGuess:de,makeSmartGuess:function(){if(void 0!==ee&&0!==te.length)return te[0]},updateSmartGuessesIf:function(e,t){"incorrect"===e?(te.reverse().pop(),te.reverse()):function(e,t){"horizontal"===se(e)?(te=te.filter((function(t,r,n){return t.y===e.y})),String.fromCharCode(ee.x.charCodeAt(0))>String.fromCharCode(e.x.charCodeAt(0))?"A"!==e.x&&(te.push(re(e,"left")),(te=te.filter((function(e,r,n){return ae(e,t)}))).reverse()):"J"!==e.x&&(te.push(re(e,"right")),te=te.filter((function(e,r,n){return ae(e,t)})))):(te=te.filter((function(t,r,n){return t.x===e.x})),ee.y>e.y?1!==e.y&&(te.push(ne(e,"up")),(te=te.filter((function(e,r,n){return ae(e,t)}))).reverse()):10!==e.y&&(te.push(ne(e,"down")),te=te.filter((function(e,r,n){return ae(e,t)}))))}(te.reverse().pop(),t),0===te.length&&(ee=void 0)},getOrientation:se});!function(e){var t=function(e){var t=e.fleet,r=e.board;for(var n in t)k.emit("displayShipSunk",{ship:t[n],board:r})},r=function(r){var n=document.querySelector(".computerBoard"),a=document.querySelector(".humanBoard");new Promise((function(o,i){!function(r){e.humanPlayer.attack(e.computerGameboard,r);var n=r.tile,a={x:r.x,y:r.y};k.emit("updateTile",{tile:n,board:e.computerGameboard,coordinates:a}),t({fleet:e.computerFleet,board:document.querySelector(".computerBoard")})}(r),k.emit("removeListenerToClickComputerBoard",n),k.emit("toggleIndicatePlayerTurn",n),k.emit("toggleIndicatePlayerTurn",a),o()})).then((function(){e.gameOver()&&reject()})).then((function(){return new Promise((function(r,o){setTimeout((function(){var o;fe.hasNotHit()?(o=e.computerPlayer.getRandomCoordinateStillAvailable(e.humanGameboard.allCoordinates),e.computerPlayer.attack(e.humanGameboard,o),e.humanGameboard.checkHit(o.x,o.y)&&(fe.originalCorrectGuess=o,fe.getAdjacentCoordinates(o,e.humanGameboard))):(o=fe.makeSmartGuess(),e.computerPlayer.attack(e.humanGameboard,o),e.humanGameboard.checkHit(o.x,o.y)?fe.updateSmartGuessesIf("correct",e.humanGameboard):fe.updateSmartGuessesIf("incorrect",e.humanGameboard)),k.emit("updateTile",{board:e.humanGameboard,coordinates:o}),t({fleet:e.humanFleet,board:document.querySelector(".humanBoard")}),k.emit("addListenerToClickComputerBoard",n),k.emit("toggleIndicatePlayerTurn",n),k.emit("toggleIndicatePlayerTurn",a),r()}),1e3)}))})).then((function(){e.gameOver()&&reject()})).catch((function(){k.emit("removeListenerToClickComputerBoard",n),"human"===e.gameWinner()?k.emit("displayVictoryMessage","You win!"):"computer"===e.gameWinner()&&k.emit("displayVictoryMessage","You lose!")}))};k.on("gameTurn",r)}(A)}]);